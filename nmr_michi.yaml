---
id: https://nfdi-de.github.io/chem-dcat-ap/nmr_michi.yaml
name: nmr_michi
title: "MARGARITAS: MIChI Standard for Reporting Liquid-State NMR Experiments of Small Molecules"
description: 'MARGARITAS stands for "Michi stAndard foR reportinG liquid-stAte nmR experImenTs of smAll moleculeS". This MIChI standard is a proposal from NFDI4Chem to outline essential metadata required for documenting liquid-state NMR experiments of small molecules. We aim to make it suitable for NMR repositories and the supplementary materials of publications. The standard consists of two parts: tabular recommendations that include the actual checklist of properties and textual guidelines explaining the meaning and use of the checklist. We actively maintain and optimise our MIChI, which results in new versions. Below, you can find all the available versions. Please use the last one.'
license: CC-BY 4.0
prefixes:
  nmr_michi: https://nfdi-de.github.io/chem-dcat-ap/nmr_michi.yaml#
  NMR: "http://nmrML.org/nmrCV#NMR:"
  adms: http://www.w3.org/ns/adms#
  dcat: http://www.w3.org/ns/dcat#
  qudt: http://qudt.org/schema/qudt/
  prov: http://www.w3.org/ns/prov#
  linkml: https://w3id.org/linkml/
  biolink: https://w3id.org/biolink/vocab/
  schema: http://schema.org/
  dcterms: http://purl.org/dc/terms/
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  owl: http://www.w3.org/2002/07/owl#
  skos: http://www.w3.org/2004/02/skos/core#
  RO: http://purl.obolibrary.org/obo/RO_
  PATO: http://purl.obolibrary.org/obo/PATO_
  OBI: http://purl.obolibrary.org/obo/OBI_
  IAO: http://purl.obolibrary.org/obo/IAO_
  BFO: http://purl.obolibrary.org/obo/BFO_
  CHMO: http://purl.obolibrary.org/obo/CHMO_
  CHEBI: http://purl.obolibrary.org/obo/CHEBI_
  ex: http://example.org/
  SIO: http://semanticscience.org/resource/SIO_
  doi: https://doi.org/
  AFE: http://purl.allotrope.org/ontologies/equipment#AFE_
  AFRL: http://purl.allotrope.org/ontologies/role#AFRL_
  AFP: http://purl.allotrope.org/ontologies/process#AFP_
  VOC4CAT: https://w3id.org/nfdi4cat/voc4cat_
default_prefix: nmr_michi
default_range: string
imports:
  - linkml:types
  - dcat_4c_ap

classes:

  NMRSample:
    class_uri: NMR:1400128
    is_a: SubstanceSample
    description: A SubstanceSample that has been prepared for chemical analysis by NMR.
    comments:
      - This class serves as an example for the way in which we want to build domain specific application profiles that are based on this DCAT-AP extension. It will thus be outsourced to a more appropriate location in the future.
    slot_usage:
      composed_of:
        description: The slot to provide the compound(s) of which an NMRSample is composed via the peak assignment of an NMRSpectrum.
        required: true
        range: CharacterizedCompound
      derived_from:
        description: The slot to specify the MaterialEntity or MaterialSample from which the NMRSample was created.

  NMRSampleTemperature:
    class_uri: NMR:1400262
    is_a: Temperature
    description: The temperature of the NMR Sample.
    #slot_usage:
      #has_quantity_type:
        #ifabsent: http://qudt.org/vocab/quantitykind/Temperature
      #unit:
        #ifabsent: https://qudt.org/vocab/unit/K

  NMRAnalysisDataset:
    class_uri: dcat:Dataset
    is_a: AnalysisDataset
    description: A dataset that is the result of a NMRSpectralAnalysis of a NMRSample.
    slot_usage:
      was_generated_by:
        slot_uri: OBI:0000312
        range: NMRSpectralAnalysis
        multivalued: true
        inlined_as_list: true
      is_about_entity:
        slot_uri: IAO:0000136
        range: NMRSample
        description: The slot to specify the NMRSample being evaluated within a NMRSpectroscopy.
    comments:
      - This class serves as an example for the way in which we want to build domain specific schema profiles. It will be outsourced to a more appropriate location in the future.

  NMRSpectralAnalysis:
    is_a: DataAnalysis
    class_uri: NMR:1400042
    description: A DataAnalysis which assigns a chemical structure to the peaks of a NMRSpectrum generated by a NMRSpectroscopy
    slot_usage:
      evaluated_entity:
        slot_uri: OBI:0000293
        range: NMRSpectrum
        description: The slot to specify the NMRSpectrum that was being analysed.
    comments:
      - This class serves as an example for the way in which we want to build domain specific schema profiles. It will be outsourced to a more appropriate location in the future.

  NMRSpectrum:
    is_a: AnalysisSourceData
    class_uri: NMR:1002007
    description: Chemical shift data obtained via nuclear magnetic resonance (NMR) spectroscopy.
    slot_usage:
      was_generated_by:
        slot_uri: OBI:0000312
        range: NMRSpectroscopy
        multivalued: true
        inlined_as_list: true
        description: The slot to specify the NMRSpectroscopy that generated the NMRSpectrum.
    comments:
      - This class serves as an example for the way in which we want to build domain specific application profiles that are based on this DCAT-AP extension. It will thus be outsourced to a more appropriate location in the future.

  NMRSpectroscopy:
    is_a: DataGeneratingActivity
    class_uri: CHMO:0000613
    exact_mappings:
      - OBI:0000623
    description: Spectroscopy where the energy states of spin-active nuclei placed in a static magnetic field are interrogated by inducing transitions between the states via radio frequency irradiation. Each experiment consists of a sequence of radio frequency pulses with delay periods in between them.
    slots:
      - used_spectrometer
      - used_solvent
    attributes:
      used_pulse_sequence:
        is_a: has_qualitative_attribute
        slot_uri: OBI:0000293
        description: The slot to specify the PulseSequence used as a setting in the NMRSpectroscopy.
        range: PulseSequence
        multivalued: false
        inlined: true
        required: true
      used_number_of_scans:
        is_a: has_quantitative_attribute
        slot_uri: OBI:0000293
        description: The slot to specify the NumberOfScans used as a setting in the NMRSpectroscopy.
        range: NumberOfScans
        multivalued: false
        inlined: true
        recommended: true
      used_sample_temperature:
        is_a: has_quantitative_attribute
        slot_uri: OBI:0000293
        description: The slot to specify the NMRSampleTemperature used as a setting in the NMRSpectroscopy.
        range: NMRSampleTemperature
        multivalued: false
        inlined: true
        recommended: true
      probes_nucleus:
        is_a: carried_out_by
        slot_uri: OBI:0000293
        description: The slot to specify the AcquisitionNucleus used in the NMRSpectroscopy.
        range: AcquisitionNucleus
        multivalued: true
        inlined_as_list: true
        required: true
      used_calibration_compound:
        is_a: carried_out_by
        slot_uri: OBI:0000293
        description: The slot to specify the ShiftCalibrationCompound used in the NMRSpectroscopy.
        range: ShiftCalibrationCompound
        multivalued: true
        inlined_as_list: true
        #required: true # cannot be made required yet, as there is no compliant data until the MARGARITAS are implemented in the 4Chem repos
        recommended: true
      used_reference_compound:
        is_a: carried_out_by
        slot_uri: OBI:0000293
        description: The slot to specify the ShiftReferenceCompound used in the NMRSpectroscopy.
        range: ShiftReferenceCompound
        multivalued: true
        inlined_as_list: true
        #required: true # cannot be made required yet, as there is no compliant data until the MARGARITAS are implemented in the 4Chem repos
        recommended: true
    slot_usage:
      evaluated_entity:
        slot_uri: OBI:0000293
        range: NMRSample
        description: The slot to reference the NMRSample that was used in the NMRSpectroscopy.
        required: true
      rdf_type:
        description: The type of NMRSpectroscopy provided as CURIE of a subclass of CHMO:0000613.
        ## new binding feature is not yet implemented, see: https://github.com/linkml/linkml-model/releases/tag/v1.8.0
        ## current workaround: using NMRAssayEnum as range in the example data
        required: true
        bindings:
          - binds_value_of: id
            range: NMRAssayEnum
            obligation_level: RECOMMENDED
            description: NMRSpectroscopy types from the Chemical Methods Ontology.
      used_solvent:
        slot_uri: OBI:0000293
        description: The slot to specify the NMRSSolvent used in a NMRSpectroscopy.
        range: NMRSolvent
        inlined: true
        required: true
    comments:
      - This class serves as an example for the way in which we want to build domain specific schema profiles. It will be outsourced to a more appropriate location in the future.

  NMRSpectrometer:
    is_a: Device
    class_uri: CHMO:0001807
    description: A Spectrometer used to conduct NMR experiments consisting of a magnet housing a sample space surrounded by two coils which act to transmit radio frequency radiation to the sample and to detect the response of the sample.
    slots:
      - has_proton_frequency
    exact_mappings:
      - OBI:0000566
      - NMR:1400059
      - AFE:0002280
    comments:
      - This class serves as an example for the way in which we want to build domain specific application profiles that are based on this DCAT-AP extension. It will thus be outsourced to a more appropriate location in the future.

  ShiftCalibrationCompound:
    is_a: ChemicalEntity
    class_uri: NMR:0002003
    description: A ChemicalEntity that produces one or more peaks used for chemical shift calibration in nuclear magnetic resonance (NMR) spectroscopy.
    attributes:
      has_calibration_shift:
        slot_uri: SIO:000008
        is_a: has_quantitative_attribute
        description: The slot to specify the chemical shift value of the ShiftCalibrationCompound.
        range: CalibrationPeakShift
        multivalued: true
        inlined_as_list: true
    comments:
      - This class serves as an example for the way in which we want to build domain specific schema profiles. It will be outsourced to a more appropriate location in the future.

  ShiftReferenceCompound:
    is_a: ShiftCalibrationCompound
    class_uri: NMR:1400033
    description: A ShiftCalibrationCompound that produces a peak used as reference frequency in the delta chemical shift scale in nuclear magnetic resonance (NMR) spectroscopy.
    comments:
      - This class serves as an example for the way in which we want to build domain specific schema profiles. It will be outsourced to a more appropriate location in the future.

  CharacterizedCompound:
    is_a: ChemicalEntity
    class_uri: NMR:0002001
    description: A ChemicalEntity that being characterized in an NMRSample using data acquired from a NMRSpectroscopy.
    comments:
      - This class serves as an example for the way in which we want to build domain specific schema profiles. It will be outsourced to a more appropriate location in the future.

  AcquisitionNucleus:
    class_uri: NMR:1400083
    is_a: AgenticEntity
    description: The nucleus of an Atom that is being studied during an NMR analysis.
    attributes:
      nucleus_of:
        slot_uri: BFO:0000050
        description: The slot to specify the Atom that is being studied during an NMR analysis
        required: true
        multivalued: false
        inlined: true
        range: Atom
    comments:
      - This class serves as an example for the way in which we want to build domain specific schema profiles. It will be outsourced to a more appropriate location in the future.

  NMRSolvent:
    class_uri: NMR:1000330
    is_a: DissolvingSubstance
    description: A DissolvingSubstance that is used in nuclear magnetic resonance NMRSpectroscopy.
    comments:
      - This class serves as an example for the way in which we want to build domain specific schema profiles. It will be outsourced to a more appropriate location in the future.

  PulseSequence:
    is_a: QualitativeAttribute
    class_uri: NMR:1400037
    description: A string that denotes sequence of excitation pulses.
    comments:
      - This class serves as an example for the way in which we want to build domain specific schema profiles. It will be outsourced to a more appropriate location in the future.

  NominalProtonFrequency:
    is_a: QuantitativeAttribute
    class_uri: qudt:Quantity
    description: Resonance frequency of 1H at the field strength of the NMR magnet, rounded to 10-fold numbers.
    comments:
      - This class serves as an example for the way in which we want to build domain specific schema profiles. It will be outsourced to a more appropriate location in the future.
    #slot_usage:
      #has_quantity_type:
        #ifabsent: http://qudt.org/vocab/quantitykind/Frequency
      #unit:
        #ifabsent: https://qudt.org/vocab/unit/MegaHZ

  CalibrationPeakShift:
    class_uri: NMR:1000223
    is_a: QuantitativeAttribute
    description: The chemical shift of the peak used for chemical shift calibration.
    comments:
      - This class serves as an example for the way in which we want to build domain specific schema profiles. It will be outsourced to a more appropriate location in the future.
    #slot_usage:
      #has_quantity_type:
      #ifabsent: http://qudt.org/schema/qudt/UserQuantityKind

  NumberOfScans:
    is_a: QuantitativeAttribute
    class_uri: NMR:1400087
    description: The number of repeat scans performed and summed to create the data set for an NMRSample.
    #slot_usage:
      #has_quantity_type:
        #ifabsent: http://qudt.org/vocab/quantitykind/Count
      #unit:
        #ifabsent: http://qudt.org/vocab/unit/NUM


slots:
  used_spectrometer:
    is_a: carried_out_by
    slot_uri: OBI:0000293
    description: The slot to specify the NMRSpectrometer used in a NMRSpectroscopy.
    range: NMRSpectrometer
    inlined_as_list: true
    required: true
  has_proton_frequency:
    slot_uri: SIO:000008
    is_a: has_quantitative_attribute
    description: The slot to specify the NominalProtonFrequency of a NMRSpectrometer.
    range: NominalProtonFrequency
    #required: true  # disabled for now, as this needs to be specified better in the NMR MICHI yet

enums:
  # This is a [dynamic LinkML Enum definition](https://linkml.io/linkml/schemas/enums.html#dynamic-enums) covering
  # pulsed NMR spectroscopy types defined in the Chemical Methods Ontology (CHMO). It was expanded (made static) using
  # OAK with `poetry run vskit expand -s src/dcat_4c_ap/schema/dcat-4C-ap.yaml -o src/dcat_4c_ap/schema/chmo-nmr-assay-enum.yaml`.
  # and then copying only the enum into this schema manually.
  NMRAssayEnum:
    description: NMR types from the Chemical Methods Ontology
    reachable_from:
      source_ontology: bioregistry:chmo
      source_nodes:
        - CHMO:0000613   # pulsed nuclear magnetic resonance spectroscopy
      is_direct: false
      relationship_types:
        - rdfs:subClassOf
    permissible_values:
      CHMO:0000595:
        text: CHMO:0000595
        description: Spectroscopy where the energy states of 13C nuclei placed in
          a static magnetic field are interrogated by inducing transitions between
          the states via radio frequency irradiation. Each experiment consists of
          a sequence of radio frequency pulses with delay periods in between them.
        meaning: CHMO:0000595
        title: 13C nuclear magnetic resonance spectroscopy
